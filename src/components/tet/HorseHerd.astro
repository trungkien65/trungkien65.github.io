---
/**
 * Đàn ngựa chạy từ trái sang phải.
 * SVG ngựa: tham khảo từ file 5rerxfz01.svg (đặt tại public/horse-ref.svg), filter trắng.
 */
// Nhiều ngựa hơn: thêm/bớt phần tử hoặc đổi top, duration, delay
const horses = [
  { top: "8%", duration: 9, delay: 0 },
  { top: "16%", duration: 11, delay: 1.2 },
  { top: "24%", duration: 8.5, delay: 0.5 },
  { top: "32%", duration: 10, delay: 2 },
  { top: "40%", duration: 9, delay: 0.8 },
  { top: "48%", duration: 11.5, delay: 1.5 },
  { top: "56%", duration: 8, delay: 0.2 },
  { top: "64%", duration: 10.5, delay: 1.8 },
  { top: "72%", duration: 9.5, delay: 0.6 },
  { top: "80%", duration: 10, delay: 1 },
  { top: "88%", duration: 8.8, delay: 0.4 },
]
---

<div class="horse-herd" aria-hidden="true">
  {horses.map((h, i) => (
    <div
      class="horse-herd__item"
      style={`--top: ${h.top}; --duration: ${h.duration}s; --delay: ${h.delay}s`}
    >
      <div class="horse-herd__run">
        <img
          class="horse-herd__svg"
          src="/horse-ref.svg"
          alt=""
          width="70"
          height="105"
          loading="lazy"
        />
      </div>
    </div>
  ))}
</div>

<style>
  .horse-herd {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 1;
  }

  .horse-herd__item {
    position: absolute;
    left: 0;
    top: var(--top);
    width: 70px;
    height: 105px;
    transform: translateY(-50%);
    animation: herdRunRight var(--duration) linear infinite;
    animation-delay: var(--delay);
  }

  /* Chạy từ trái ra phải, lặp (bắt đầu ngoài màn hình trái) */
  @keyframes herdRunRight {
    0% {
      transform: translateY(-50%) translateX(-100px);
    }
    100% {
      transform: translateY(-50%) translateX(calc(100vw + 100px));
    }
  }

  .horse-herd__run {
    width: 100%;
    height: 100%;
    animation: herdBounce 0.22s ease-in-out infinite;
  }

  @keyframes herdBounce {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-3px);
    }
  }

  .horse-herd__svg {
    width: 100%;
    height: 100%;
    object-fit: contain;
    /* SVG gốc đen (5rerxfz01) → hiển thị trắng */
    filter: brightness(0) invert(1) drop-shadow(0 2px 8px rgba(0, 0, 0, 0.2));
  }
</style>
